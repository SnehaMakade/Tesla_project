import{Ab as D,Bb as M,Ca as a,Cb as $,Db as h,Ea as f,Eb as P,Fa as r,Fb as A,Ga as o,Gb as U,Ha as x,Hb as O,Ia as S,Ib as G,Jb as H,Ka as g,Kb as R,La as p,Ma as d,Na as _,Pa as k,Sa as F,U as b,Y as u,Z as C,k as w,na as T,pb as V,qb as N,rb as m,sb as Y,ta as c,ua as v,y,yb as E,zb as I}from"./chunk-BKUCKMN6.js";function z(n,s){if(n&1&&(r(0,"option",7),d(1),o()),n&2){let l=s.$implicit;a("value",l.id),c(1),_(l.description)}}function q(n,s){if(n&1){let l=S();r(0,"div")(1,"label",8),d(2,"Tow hitch?"),o(),r(3,"input",9),g("change",function(i){u(l);let t=p();return C(t.onTowhitchChange(i))}),o()()}}function B(n,s){if(n&1){let l=S();r(0,"div")(1,"label",10),d(2,"Yoke steering wheel?"),o(),r(3,"input",11),g("change",function(i){u(l);let t=p();return C(t.onYokeChange(i))}),o()()}}function J(n,s){if(n&1&&(r(0,"div",12),x(1,"img",13),o()),n&2){let l=p();c(1),a("src",l.imageUrl,T)}}var ne=(()=>{let s=class s{constructor(e,i){this.service=e,this.currencyPipe=i,this.heading="Step 2: Select your Config and options",this.imageUrl="",this.selectedModel="",this.selectedColor="",this.configArray=[],this.configDetails=[],this.detailsView="",this.configForm=new $({configSelect:new h(""),includeTow:new h(""),includeYoke:new h("")})}ngOnInit(){this.service.selectedModel$.pipe(y(e=>e!==null?(this.selectedModel=e,this.service.getModelConfigs(e)):w)).subscribe(e=>{this.options=e,this.options.configs.forEach(i=>{this.configArray.push(i)})}),this.service.selectedConfigId$.subscribe(e=>{e&&this.configForm.get("configSelect")?.setValue(e)}),this.service.selectedConfigTowHitch$.subscribe(e=>{e&&this.configForm.get("includeTow")?.setValue(e=="Yes")}),this.service.selectedConfigYoke$.subscribe(e=>{e&&this.configForm.get("includeYoke")?.setValue(e=="Yes")}),this.service.selectedConfigRangeSpeedPrice$.subscribe(e=>{e&&(this.detailsView=e)}),this.service.selectedColor$.subscribe(e=>{e&&(this.selectedColor=e)}),this.service.selectedImageUrl$.subscribe(e=>{this.imageUrl=e})}onSelect(e){let i=+e.target.value;this.configDetails=this.configArray.filter(t=>t.id==i),this.service.setSelectedConfigId(i),this.configDetails.length>0&&(this.detailsView=`Range: ${this.configDetails[0].range} miles - Max Speed: ${this.configDetails[0].speed} - Cost: ${this.currencyPipe.transform(this.configDetails[0].price,"USD")??"0"}`,this.service.setSelectedConfigRangeSpeedPrice(this.detailsView),this.service.setSelectedConfigDesc(`${this.configDetails[0].description}`)),this.service.setSelectedConfigTowHitch("No"),this.service.setSelectedConfigYoke("No")}onTowhitchChange(e){this.service.setSelectedConfigTowHitch(e.target.checked?"Yes":"No")}onYokeChange(e){this.service.setSelectedConfigYoke(e.target.checked?"Yes":"No")}};s.\u0275fac=function(i){return new(i||s)(v(E),v(m))},s.\u0275cmp=b({type:s,selectors:[["app-config"]],standalone:!0,features:[k([m]),F],decls:14,vars:6,consts:[[3,"formGroup"],["for","configSelect"],["id","configSelect","name","configSelect","formControlName","configSelect",1,"form-control",3,"change"],["value","","disabled","","selected",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],["width","100%",4,"ngIf"],[3,"value"],["for","includeTow"],["id","includeTow","type","checkbox","formControlName","includeTow",3,"change"],["for","includeYoke"],["id","includeYoke","type","checkbox","formControlName","includeYoke",3,"change"],["width","100%"],[3,"src"]],template:function(i,t){i&1&&(r(0,"h2"),d(1,"Step 2: Select your Config and options"),o(),r(2,"form",0)(3,"label",1),d(4,"Config:"),o(),r(5,"select",2),g("change",function(j){return t.onSelect(j)}),r(6,"option",3),d(7,"Choose...."),o(),f(8,z,2,2,"option",4),o(),r(9,"div"),d(10),o(),f(11,q,4,0,"div",5)(12,B,4,0,"div",5),o(),f(13,J,2,1,"div",6)),i&2&&(c(2),a("formGroup",t.configForm),c(6),a("ngForOf",t.configArray),c(2),_(t.detailsView),c(1),a("ngIf",t.options&&t.options.towHitch),c(1),a("ngIf",t.options&&t.options.yoke),c(1),a("ngIf",t.imageUrl))},dependencies:[R,P,G,H,I,O,D,M,A,U,Y,V,N]});let n=s;return n})();export{ne as ConfigComponent};
